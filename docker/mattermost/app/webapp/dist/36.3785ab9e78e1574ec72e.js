webpackJsonp([36],{1396:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(77),s=l(r),n=a(51),u=l(n),d=a(32),i=l(d),o=a(50),c=l(o),f=a(33),p=l(f),m=a(49),h=l(m),g=a(151),_=l(g),v=a(14),E=l(v),b=a(1908),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(b),M=a(1735),N=l(M),k=a(197),A=a(1522),O=l(A),U=a(58),F=a(1656),T=l(F),S=function(e){function t(e){(0,i.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.handleSubmit=a.handleSubmit.bind(a),a.updateName=a.updateName.bind(a),a.updateTrusted=a.updateTrusted.bind(a),a.updateDescription=a.updateDescription.bind(a),a.updateHomepage=a.updateHomepage.bind(a),a.updateIconUrl=a.updateIconUrl.bind(a),a.updateCallbackUrls=a.updateCallbackUrls.bind(a),a.imageLoaded=a.imageLoaded.bind(a),a.image=new Image,a.image.onload=a.imageLoaded,a.state={name:"",description:"",homepage:"",icon_url:"",callbackUrls:"",is_trusted:!1,has_icon:!1,saving:!1,serverError:"",clientError:null},a}return(0,h.default)(t,e),(0,p.default)(t,null,[{key:"propTypes",get:function(){return{team:_.default.object}}}]),(0,p.default)(t,[{key:"imageLoaded",value:function(){this.setState({has_icon:!0,icon_url:this.refs.icon_url.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),!this.state.saving){if(this.setState({saving:!0,serverError:"",clientError:""}),!this.state.name)return void this.setState({saving:!1,clientError:E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.nameRequired",defaultMessage:"Name for the OAuth 2.0 application is required."})});if(!this.state.description)return void this.setState({saving:!1,clientError:E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.descriptionRequired",defaultMessage:"Description for the OAuth 2.0 application is required."})});if(!this.state.homepage)return void this.setState({saving:!1,clientError:E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.homepageRequired",defaultMessage:"Homepage for the OAuth 2.0 application is required."})});var a=[],l=!0,r=!1,n=void 0;try{for(var u,d=(0,s.default)(this.state.callbackUrls.split("\n"));!(l=(u=d.next()).done);l=!0){var i=u.value;i=i.trim(),i.length>0&&a.push(i)}}catch(e){r=!0,n=e}finally{try{!l&&d.return&&d.return()}finally{if(r)throw n}}if(0===a.length)return void this.setState({saving:!1,clientError:E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.callbackUrlsRequired",defaultMessage:"One or more callback URLs are required."})});var o={name:this.state.name,callback_urls:a,homepage:this.state.homepage,description:this.state.description,is_trusted:this.state.is_trusted,icon_url:this.state.icon_url};y.registerOAuthApp(o,function(e){U.browserHistory.push("/"+t.props.team.name+"/integrations/confirm?type=oauth2-apps&id="+e.id)},function(e){t.setState({saving:!1,serverError:e.message})})}}},{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"updateTrusted",value:function(e){this.setState({is_trusted:"true"===e.target.value})}},{key:"updateDescription",value:function(e){this.setState({description:e.target.value})}},{key:"updateHomepage",value:function(e){this.setState({homepage:e.target.value})}},{key:"updateIconUrl",value:function(e){this.setState({has_icon:!1,icon_url:""}),this.image.src=e.target.value}},{key:"updateCallbackUrls",value:function(e){this.setState({callbackUrls:e.target.value})}},{key:"render",value:function(){var e=void 0;return this.state.has_icon&&(e=E.default.createElement("div",{className:"integration__icon"},E.default.createElement("img",{src:this.state.icon_url}))),E.default.createElement("div",{className:"backstage-content"},E.default.createElement(N.default,null,E.default.createElement(U.Link,{to:"/"+this.props.team.name+"/integrations/oauth2-apps"},E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.header",defaultMessage:"Installed OAuth2 Apps"})),E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.header",defaultMessage:"Add"})),E.default.createElement("div",{className:"backstage-form"},e,E.default.createElement("form",{className:"form-horizontal"},E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"is_trusted"},E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.trusted",defaultMessage:"Is Trusted"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("label",{className:"radio-inline"},E.default.createElement("input",{type:"radio",value:"true",name:"is_trusted",checked:this.state.is_trusted,onChange:this.updateTrusted}),E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.trusted.yes",defaultMessage:"Yes"})),E.default.createElement("label",{className:"radio-inline"},E.default.createElement("input",{type:"radio",value:"false",name:"is_trusted",checked:!this.state.is_trusted,onChange:this.updateTrusted}),E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.trusted.no",defaultMessage:"No"})),E.default.createElement("div",{className:"form__help"},E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.trusted.help",defaultMessage:"When true, the OAuth 2.0 application is considered trusted by the Mattermost server and doesn't require the user to accept authorization. When false, an additional window will appear, asking the user to accept or deny the authorization."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"name"},E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.name",defaultMessage:"Display Name"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("input",{id:"name",type:"text",maxLength:"64",className:"form-control",value:this.state.name,onChange:this.updateName}),E.default.createElement("div",{className:"form__help"},E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.name.help",defaultMessage:"Display name for your OAuth 2.0 application made of up to 64 characters."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"description"},E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.description",defaultMessage:"Description"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("input",{id:"description",type:"text",maxLength:"512",className:"form-control",value:this.state.description,onChange:this.updateDescription}),E.default.createElement("div",{className:"form__help"},E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.description.help",defaultMessage:"Description for your OAuth 2.0 application."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"homepage"},E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.homepage",defaultMessage:"Homepage"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("input",{id:"homepage",type:"url",maxLength:"256",className:"form-control",value:this.state.homepage,onChange:this.updateHomepage}),E.default.createElement("div",{className:"form__help"},E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.homepage.help",defaultMessage:"The URL for the homepage of the OAuth 2.0 application. Make sure you use HTTP or HTTPS in your URL depending on your server configuration."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"icon_url"},E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.iconUrl",defaultMessage:"Icon URL"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("input",{id:"icon_url",ref:"icon_url",type:"url",maxLength:"512",className:"form-control",onChange:this.updateIconUrl}),E.default.createElement("div",{className:"form__help"},E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.icon.help",defaultMessage:"The URL for the homepage of the OAuth 2.0 application. Make sure you use HTTP or HTTPS in your URL depending on your server configuration."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"callbackUrls"},E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.callbackUrls",defaultMessage:"Callback URLs (One Per Line)"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("textarea",{id:"callbackUrls",rows:"3",maxLength:"1024",className:"form-control",value:this.state.callbackUrls,onChange:this.updateCallbackUrls}),E.default.createElement("div",{className:"form__help"},E.default.createElement(k.FormattedMessage,{id:"add_oauth_app.callbackUrls.help",defaultMessage:"The redirect URIs to which the service will redirect users after accepting or denying authorization of your application, and which will handle authorization codes or access tokens. Must be a valid URL and start with http:// or https://."})))),E.default.createElement("div",{className:"backstage-form__footer"},E.default.createElement(O.default,{type:"backstage",errors:[this.state.serverError,this.state.clientError]}),E.default.createElement(U.Link,{className:"btn btn-sm",to:"/"+this.props.team.name+"/integrations/oauth2-apps"},E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.cancel",defaultMessage:"Cancel"})),E.default.createElement(T.default,{className:"btn btn-primary",type:"submit",spinning:this.state.saving,onClick:this.handleSubmit},E.default.createElement(k.FormattedMessage,{id:"installed_oauth_apps.save",defaultMessage:"Save"}))))))}}]),t}(E.default.Component);t.default=S},1424:function(e,t,a){a(0),a(0);t.__esModule=!0,t.default=function(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}},1518:function(e,t,a){e.exports=a.p+"files/1171271cb71e89919600b8c3ae1774cb.gif"},1522:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(77),s=l(r),n=a(51),u=l(n),d=a(32),i=l(d),o=a(33),c=l(o),f=a(50),p=l(f),m=a(49),h=l(m),g=a(151),_=l(g),v=a(14),E=l(v),b=function(e){function t(){return(0,i.default)(this,t),(0,p.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){if(!this.props.error&&0===this.props.errors.length)return null;var e=this.props.error;if(!e){var t=!0,a=!1,l=void 0;try{for(var r,n=(0,s.default)(this.props.errors);!(t=(r=n.next()).done);t=!0){var u=r.value;u&&(e=u)}}catch(e){a=!0,l=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw l}}}return e?"backstage"===this.props.type?E.default.createElement("div",{className:"pull-left has-error"},E.default.createElement("label",{className:"control-label"},e)):this.props.margin?E.default.createElement("div",{className:"form-group has-error"},E.default.createElement("label",{className:"control-label"},e)):E.default.createElement("div",{className:"col-sm-12 has-error"},E.default.createElement("label",{className:"control-label"},e)):null}}],[{key:"propTypes",get:function(){return{type:_.default.node,error:_.default.node,margin:_.default.bool,errors:_.default.arrayOf(_.default.node)}}},{key:"defaultProps",get:function(){return{error:null,errors:[]}}}]),t}(E.default.Component);t.default=b},1656:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(112),s=l(r),n=a(1424),u=l(n),d=a(51),i=l(d),o=a(32),c=l(o),f=a(33),p=l(f),m=a(50),h=l(m),g=a(49),_=l(g),v=a(151),E=l(v),b=a(14),y=l(b),M=a(1518),N=l(M),k=function(e){function t(){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.spinning,a=e.children,l=(0,u.default)(e,["spinning","children"]);return t?y.default.createElement("img",{className:"spinner-button__gif",src:N.default}):y.default.createElement("button",(0,s.default)({className:"btn btn-primary"},l),a)}}],[{key:"propTypes",get:function(){return{children:E.default.node,spinning:E.default.bool.isRequired,onClick:E.default.func}}}]),t}(y.default.Component);t.default=k},1735:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(51),s=l(r),n=a(32),u=l(n),d=a(33),i=l(d),o=a(50),c=l(o),f=a(49),p=l(f),m=a(151),h=l(m),g=a(14),_=l(g),v=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=[];return _.default.Children.forEach(this.props.children,function(t,a){0!==a&&e.push(_.default.createElement("span",{key:"divider"+a,className:"backstage-header__divider"},_.default.createElement("i",{className:"fa fa-angle-right"}))),e.push(t)}),_.default.createElement("div",{className:"backstage-header"},_.default.createElement("h1",null,e))}}],[{key:"propTypes",get:function(){return{children:h.default.node}}}]),t}(_.default.Component);t.default=v},1908:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){d.default.listOAuthApps(function(a){o.default.handleServerAction({type:p.RECEIVED_OAUTHAPPS,userId:e,oauthApps:a}),t&&t(a)},a)}function s(e,t,a,l){d.default.deleteOAuthApp(e,function(){o.default.handleServerAction({type:p.REMOVED_OAUTHAPP,userId:t,id:e}),a&&a()},l)}function n(e,t,a){d.default.registerOAuthApp(e,function(e){o.default.handleServerAction({type:p.RECEIVED_OAUTHAPP,oauthApp:e}),t&&t(e)},a)}Object.defineProperty(t,"__esModule",{value:!0}),t.listOAuthApps=r,t.deleteOAuthApp=s,t.registerOAuthApp=n;var u=a(52),d=l(u),i=a(26),o=l(i),c=a(10),f=l(c),p=f.default.ActionTypes}});
//# sourceMappingURL=36.3785ab9e78e1574ec72e.js.map