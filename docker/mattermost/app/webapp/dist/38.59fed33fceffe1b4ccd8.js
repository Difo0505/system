webpackJsonp([38],{1394:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(51),o=r(s),d=a(32),n=r(d),m=a(50),i=r(m),c=a(33),u=r(c),f=a(49),p=r(f),h=a(151),g=r(h),E=a(14),v=r(E),_=a(113),M=l(_),N=a(28),b=l(N),y=a(1735),k=r(y),F=a(197),x=a(1522),S=r(x),T=a(58),U=a(1656),D=r(U),R=a(10),w=r(R),A="P",C=function(e){function t(e){(0,n.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleSubmit=a.handleSubmit.bind(a),a.updateDisplayName=a.updateDisplayName.bind(a),a.updateDescription=a.updateDescription.bind(a),a.updateTrigger=a.updateTrigger.bind(a),a.updateUrl=a.updateUrl.bind(a),a.updateMethod=a.updateMethod.bind(a),a.updateUsername=a.updateUsername.bind(a),a.updateIconUrl=a.updateIconUrl.bind(a),a.updateAutocomplete=a.updateAutocomplete.bind(a),a.updateAutocompleteHint=a.updateAutocompleteHint.bind(a),a.updateAutocompleteDescription=a.updateAutocompleteDescription.bind(a),a.state={displayName:"",description:"",trigger:"",url:"",method:A,username:"",iconUrl:"",autocomplete:!1,autocompleteHint:"",autocompleteDescription:"",saving:!1,serverError:"",clientError:null},a}return(0,p.default)(t,e),(0,u.default)(t,null,[{key:"propTypes",get:function(){return{team:g.default.object}}}]),(0,u.default)(t,[{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),!this.state.saving){this.setState({saving:!0,serverError:"",clientError:""});var a=this.state.trigger.trim().toLowerCase();0===a.indexOf("/")&&(a=a.substr(1));var l={display_name:this.state.displayName,description:this.state.description,trigger:a,url:this.state.url.trim(),method:this.state.method,username:this.state.username,icon_url:this.state.iconUrl,auto_complete:this.state.autocomplete};return l.auto_complete&&(l.auto_complete_desc=this.state.autocompleteDescription,l.auto_complete_hint=this.state.autocompleteHint),l.trigger?0===l.trigger.indexOf("/")?void this.setState({saving:!1,clientError:v.default.createElement(F.FormattedMessage,{id:"add_command.triggerInvalidSlash",defaultMessage:"A trigger word cannot begin with a /"})}):-1!==l.trigger.indexOf(" ")?void this.setState({saving:!1,clientError:v.default.createElement(F.FormattedMessage,{id:"add_command.triggerInvalidSpace",defaultMessage:"A trigger word must not contain spaces"})}):l.trigger.length<w.default.MIN_TRIGGER_LENGTH||l.trigger.length>w.default.MAX_TRIGGER_LENGTH?void this.setState({saving:!1,clientError:v.default.createElement(F.FormattedMessage,{id:"add_command.triggerInvalidLength",defaultMessage:"A trigger word must contain between {min} and {max} characters",values:{min:w.default.MIN_TRIGGER_LENGTH,max:w.default.MAX_TRIGGER_LENGTH}})}):l.url?void M.addCommand(l,function(e){T.browserHistory.push("/"+t.props.team.name+"/integrations/commands/confirm?type=commands&id="+e.id)},function(e){t.setState({saving:!1,serverError:e.message})}):void this.setState({saving:!1,clientError:v.default.createElement(F.FormattedMessage,{id:"add_command.urlRequired",defaultMessage:"A request URL is required"})}):void this.setState({saving:!1,clientError:v.default.createElement(F.FormattedMessage,{id:"add_command.triggerRequired",defaultMessage:"A trigger word is required"})})}}},{key:"updateDisplayName",value:function(e){this.setState({displayName:e.target.value})}},{key:"updateDescription",value:function(e){this.setState({description:e.target.value})}},{key:"updateTrigger",value:function(e){this.setState({trigger:e.target.value})}},{key:"updateUrl",value:function(e){this.setState({url:e.target.value})}},{key:"updateMethod",value:function(e){this.setState({method:e.target.value})}},{key:"updateUsername",value:function(e){this.setState({username:e.target.value})}},{key:"updateIconUrl",value:function(e){this.setState({iconUrl:e.target.value})}},{key:"updateAutocomplete",value:function(e){this.setState({autocomplete:e.target.checked})}},{key:"updateAutocompleteHint",value:function(e){this.setState({autocompleteHint:e.target.value})}},{key:"updateAutocompleteDescription",value:function(e){this.setState({autocompleteDescription:e.target.value})}},{key:"render",value:function(){var e=null;return this.state.autocomplete&&(e=[v.default.createElement("div",{key:"autocompleteHint",className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"autocompleteHint"},v.default.createElement(F.FormattedMessage,{id:"add_command.autocompleteHint",defaultMessage:"Autocomplete Hint"})),v.default.createElement("div",{className:"col-md-5 col-sm-8"},v.default.createElement("input",{id:"autocompleteHint",type:"text",maxLength:"1024",className:"form-control",value:this.state.autocompleteHint,onChange:this.updateAutocompleteHint,placeholder:b.localizeMessage("add_command.autocompleteHint.placeholder","Example: [Patient Name]")}),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.autocompleteHint.help",defaultMessage:"(Optional) Arguments associated with your slash command, displayed as help in the autocomplete list."})))),v.default.createElement("div",{key:"autocompleteDescription",className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"autocompleteDescription"},v.default.createElement(F.FormattedMessage,{id:"add_command.autocompleteDescription",defaultMessage:"Autocomplete Description"})),v.default.createElement("div",{className:"col-md-5 col-sm-8"},v.default.createElement("input",{id:"description",type:"text",maxLength:"128",className:"form-control",value:this.state.autocompleteDescription,onChange:this.updateAutocompleteDescription,placeholder:b.localizeMessage("add_command.autocompleteDescription.placeholder",'Example: "Returns search results for patient records"')}),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.autocompleteDescription.help",defaultMessage:"(Optional) Short description of slash command for the autocomplete list."}))))]),v.default.createElement("div",{className:"backstage-content row"},v.default.createElement(k.default,null,v.default.createElement(T.Link,{to:"/"+this.props.team.name+"/integrations/commands"},v.default.createElement(F.FormattedMessage,{id:"installed_command.header",defaultMessage:"Slash Commands"})),v.default.createElement(F.FormattedMessage,{id:"integrations.add",defaultMessage:"Add"})),v.default.createElement("div",{className:"backstage-form"},v.default.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"displayName"},v.default.createElement(F.FormattedMessage,{id:"add_command.displayName",defaultMessage:"Display Name"})),v.default.createElement("div",{className:"col-md-5 col-sm-8"},v.default.createElement("input",{id:"displayName",type:"text",maxLength:"64",className:"form-control",value:this.state.displayName,onChange:this.updateDisplayName}),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.displayName.help",defaultMessage:"Display name for your slash command made of up to 64 characters."})))),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"description"},v.default.createElement(F.FormattedMessage,{id:"add_command.description",defaultMessage:"Description"})),v.default.createElement("div",{className:"col-md-5 col-sm-8"},v.default.createElement("input",{id:"description",type:"text",maxLength:"128",className:"form-control",value:this.state.description,onChange:this.updateDescription}),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.description.help",defaultMessage:"Description for your incoming webhook."})))),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"trigger"},v.default.createElement(F.FormattedMessage,{id:"add_command.trigger",defaultMessage:"Command Trigger Word"})),v.default.createElement("div",{className:"col-md-5 col-sm-8"},v.default.createElement("input",{id:"trigger",type:"text",maxLength:w.default.MAX_TRIGGER_LENGTH,className:"form-control",value:this.state.trigger,onChange:this.updateTrigger,placeholder:b.localizeMessage("add_command.trigger.placeholder",'Command trigger e.g. "hello" not including the slash')}),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.trigger.help",defaultMessage:"Trigger word must be unique, and cannot begin with a slash or contain any spaces."})),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.trigger.helpExamples",defaultMessage:"Examples: client, employee, patient, weather"})),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.trigger.helpReserved",defaultMessage:"Reserved: {link}",values:{link:v.default.createElement("a",{href:"https://docs.mattermost.com/help/messaging/executing-commands.html#built-in-commands",target:"_blank",rel:"noopener noreferrer"},v.default.createElement(F.FormattedMessage,{id:"add_command.trigger.helpReservedLinkText",defaultMessage:"see list of built-in slash commands"}))}})))),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"url"},v.default.createElement(F.FormattedMessage,{id:"add_command.url",defaultMessage:"Request URL"})),v.default.createElement("div",{className:"col-md-5 col-sm-8"},v.default.createElement("input",{id:"url",type:"text",maxLength:"1024",className:"form-control",value:this.state.url,onChange:this.updateUrl,placeholder:b.localizeMessage("add_command.url.placeholder","Must start with http:// or https://")}),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.url.help",defaultMessage:"The callback URL to receive the HTTP POST or GET event request when the slash command is run."})))),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"method"},v.default.createElement(F.FormattedMessage,{id:"add_command.method",defaultMessage:"Request Method"})),v.default.createElement("div",{className:"col-md-5 col-sm-8"},v.default.createElement("select",{id:"method",className:"form-control",value:this.state.method,onChange:this.updateMethod},v.default.createElement("option",{value:A},b.localizeMessage("add_command.method.post","POST")),v.default.createElement("option",{value:"G"},b.localizeMessage("add_command.method.get","GET"))),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.method.help",defaultMessage:"The type of command request issued to the Request URL."})))),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"username"},v.default.createElement(F.FormattedMessage,{id:"add_command.username",defaultMessage:"Response Username"})),v.default.createElement("div",{className:"col-md-5 col-sm-8"},v.default.createElement("input",{id:"username",type:"text",maxLength:"64",className:"form-control",value:this.state.username,onChange:this.updateUsername,placeholder:b.localizeMessage("add_command.username.placeholder","Username")}),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.username.help",defaultMessage:'(Optional) Choose a username override for responses for this slash command. Usernames can consist of up to 22 characters consisting of lowercase letters, numbers and they symbols "-", "_", and "." .'})))),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"iconUrl"},v.default.createElement(F.FormattedMessage,{id:"add_command.iconUrl",defaultMessage:"Response Icon"})),v.default.createElement("div",{className:"col-md-5 col-sm-8"},v.default.createElement("input",{id:"iconUrl",type:"text",maxLength:"1024",className:"form-control",value:this.state.iconUrl,onChange:this.updateIconUrl,placeholder:b.localizeMessage("add_command.iconUrl.placeholder","https://www.example.com/myicon.png")}),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.iconUrl.help",defaultMessage:"(Optional) Choose a profile picture override for the post responses to this slash command. Enter the URL of a .png or .jpg file at least 128 pixels by 128 pixels."})))),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"autocomplete"},v.default.createElement(F.FormattedMessage,{id:"add_command.autocomplete",defaultMessage:"Autocomplete"})),v.default.createElement("div",{className:"col-md-5 col-sm-8 checkbox"},v.default.createElement("input",{id:"autocomplete",type:"checkbox",checked:this.state.autocomplete,onChange:this.updateAutocomplete}),v.default.createElement("div",{className:"form__help"},v.default.createElement(F.FormattedMessage,{id:"add_command.autocomplete.help",defaultMessage:"(Optional) Show slash command in autocomplete list."})))),e,v.default.createElement("div",{className:"backstage-form__footer"},v.default.createElement(S.default,{type:"backstage",errors:[this.state.serverError,this.state.clientError]}),v.default.createElement(T.Link,{className:"btn btn-sm",to:"/"+this.props.team.name+"/integrations/commands"},v.default.createElement(F.FormattedMessage,{id:"add_command.cancel",defaultMessage:"Cancel"})),v.default.createElement(D.default,{className:"btn btn-primary",type:"submit",spinning:this.state.saving,onClick:this.handleSubmit},v.default.createElement(F.FormattedMessage,{id:"add_command.save",defaultMessage:"Save"}))))))}}]),t}(v.default.Component);t.default=C},1424:function(e,t,a){a(0),a(0);t.__esModule=!0,t.default=function(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}},1518:function(e,t,a){e.exports=a.p+"files/1171271cb71e89919600b8c3ae1774cb.gif"},1522:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(77),s=l(r),o=a(51),d=l(o),n=a(32),m=l(n),i=a(33),c=l(i),u=a(50),f=l(u),p=a(49),h=l(p),g=a(151),E=l(g),v=a(14),_=l(v),M=function(e){function t(){return(0,m.default)(this,t),(0,f.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){if(!this.props.error&&0===this.props.errors.length)return null;var e=this.props.error;if(!e){var t=!0,a=!1,l=void 0;try{for(var r,o=(0,s.default)(this.props.errors);!(t=(r=o.next()).done);t=!0){var d=r.value;d&&(e=d)}}catch(e){a=!0,l=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw l}}}return e?"backstage"===this.props.type?_.default.createElement("div",{className:"pull-left has-error"},_.default.createElement("label",{className:"control-label"},e)):this.props.margin?_.default.createElement("div",{className:"form-group has-error"},_.default.createElement("label",{className:"control-label"},e)):_.default.createElement("div",{className:"col-sm-12 has-error"},_.default.createElement("label",{className:"control-label"},e)):null}}],[{key:"propTypes",get:function(){return{type:E.default.node,error:E.default.node,margin:E.default.bool,errors:E.default.arrayOf(E.default.node)}}},{key:"defaultProps",get:function(){return{error:null,errors:[]}}}]),t}(_.default.Component);t.default=M},1656:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(112),s=l(r),o=a(1424),d=l(o),n=a(51),m=l(n),i=a(32),c=l(i),u=a(33),f=l(u),p=a(50),h=l(p),g=a(49),E=l(g),v=a(151),_=l(v),M=a(14),N=l(M),b=a(1518),y=l(b),k=function(e){function t(){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,m.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.spinning,a=e.children,l=(0,d.default)(e,["spinning","children"]);return t?N.default.createElement("img",{className:"spinner-button__gif",src:y.default}):N.default.createElement("button",(0,s.default)({className:"btn btn-primary"},l),a)}}],[{key:"propTypes",get:function(){return{children:_.default.node,spinning:_.default.bool.isRequired,onClick:_.default.func}}}]),t}(N.default.Component);t.default=k},1735:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(51),s=l(r),o=a(32),d=l(o),n=a(33),m=l(n),i=a(50),c=l(i),u=a(49),f=l(u),p=a(151),h=l(p),g=a(14),E=l(g),v=function(e){function t(){return(0,d.default)(this,t),(0,c.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=[];return E.default.Children.forEach(this.props.children,function(t,a){0!==a&&e.push(E.default.createElement("span",{key:"divider"+a,className:"backstage-header__divider"},E.default.createElement("i",{className:"fa fa-angle-right"}))),e.push(t)}),E.default.createElement("div",{className:"backstage-header"},E.default.createElement("h1",null,e))}}],[{key:"propTypes",get:function(){return{children:h.default.node}}}]),t}(E.default.Component);t.default=v}});
//# sourceMappingURL=38.59fed33fceffe1b4ccd8.js.map