{"version":3,"sources":["webpack:///43.daa6674875b95da8542c.js","webpack:///./components/integrations/components/commands_container.jsx","webpack:///./stores/integration_store.jsx?3844******","webpack:///./actions/integration_actions.jsx?dfd4****"],"names":["webpackJsonp","1398","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_possibleConstructorReturn2","_possibleConstructorReturn3","_createClass2","_createClass3","_inherits2","_inherits3","_integration_store","_integration_store2","_user_store","_user_store2","_integration_actions","_propTypes","_propTypes2","_react","_react2","CommandsContainer","_React$Component","props","this","_this","__proto__","call","handleIntegrationChange","bind","handleUserChange","teamId","team","id","state","commands","getCommands","loading","hasReceivedCommands","users","getProfiles","key","get","object","user","children","node","isRequired","isAdmin","bool","addChangeListener","window","mm_config","EnableCommands","loadTeamCommands","removeChangeListener","setState","createElement","cloneElement","Component","1740","_map","_map2","_app_dispatcher","_app_dispatcher2","_constants","_constants2","_events","_events2","ActionTypes","IntegrationStore","_EventEmitter","dispatchToken","register","handleEventPayload","incomingWebhooks","outgoingWebhooks","oauthApps","callback","on","removeListener","emit","has","set","incomingWebhook","team_id","getIncomingWebhooks","push","setIncomingWebhooks","i","length","filter","getOutgoingWebhooks","outgoingWebhook","setOutgoingWebhooks","command","setCommands","userId","oauthApp","creator_id","getOAuthApps","setOAuthApps","apps","app","payload","action","type","RECEIVED_INCOMING_WEBHOOKS","emitChange","RECEIVED_INCOMING_WEBHOOK","addIncomingWebhook","UPDATED_INCOMING_WEBHOOK","updateIncomingWebhook","REMOVED_INCOMING_WEBHOOK","removeIncomingWebhook","RECEIVED_OUTGOING_WEBHOOKS","RECEIVED_OUTGOING_WEBHOOK","addOutgoingWebhook","UPDATED_OUTGOING_WEBHOOK","updateOutgoingWebhook","REMOVED_OUTGOING_WEBHOOK","removeOutgoingWebhook","RECEIVED_COMMANDS","RECEIVED_COMMAND","addCommand","UPDATED_COMMAND","updateCommand","REMOVED_COMMAND","removeCommand","RECEIVED_OAUTHAPPS","RECEIVED_OAUTHAPP","addOAuthApp","REMOVED_OAUTHAPP","removeOAuthApp","1753","loadIncomingHooks","_web_client2","listIncomingHooks","data","handleServerAction","_team_store2","getCurrentId","loadProfilesForIncomingHooks","err","AsyncClient","dispatchError","hooks","profilesToLoad","hook","hasProfile","user_id","list","_keys2","_users","getProfilesByIds","dispatch","getState","loadOutgoingHooks","listOutgoingHooks","loadProfilesForOutgoingHooks","listTeamCommands","loadProfilesForCommands","_keys","_team_store","_async_client","newObj","prototype","hasOwnProperty","_web_client","_redux_store","_redux_store2"],"mappings":"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","file":"43.daa6674875b95da8542c.js","sourcesContent":["webpackJsonp([43],{\n\n/***/ 1398:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(51);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(32);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(50);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = __webpack_require__(33);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = __webpack_require__(49);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _integration_store = __webpack_require__(1740);\n\nvar _integration_store2 = _interopRequireDefault(_integration_store);\n\nvar _user_store = __webpack_require__(22);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _integration_actions = __webpack_require__(1753);\n\nvar _propTypes = __webpack_require__(151);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(14);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CommandsContainer = function (_React$Component) {\n    (0, _inherits3.default)(CommandsContainer, _React$Component);\n    (0, _createClass3.default)(CommandsContainer, null, [{\n        key: 'propTypes',\n        get: function get() {\n            return {\n                team: _propTypes2.default.object,\n                user: _propTypes2.default.object,\n                children: _propTypes2.default.node.isRequired,\n                isAdmin: _propTypes2.default.bool\n            };\n        }\n    }]);\n\n    function CommandsContainer(props) {\n        (0, _classCallCheck3.default)(this, CommandsContainer);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (CommandsContainer.__proto__ || (0, _getPrototypeOf2.default)(CommandsContainer)).call(this, props));\n\n        _this.handleIntegrationChange = _this.handleIntegrationChange.bind(_this);\n        _this.handleUserChange = _this.handleUserChange.bind(_this);\n\n        var teamId = _this.props.team ? _this.props.team.id : '';\n\n        _this.state = {\n            commands: _integration_store2.default.getCommands(teamId) || [],\n            loading: !_integration_store2.default.hasReceivedCommands(teamId),\n            users: _user_store2.default.getProfiles()\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(CommandsContainer, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _integration_store2.default.addChangeListener(this.handleIntegrationChange);\n            _user_store2.default.addChangeListener(this.handleUserChange);\n\n            if (window.mm_config.EnableCommands === 'true') {\n                (0, _integration_actions.loadTeamCommands)();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _integration_store2.default.removeChangeListener(this.handleIntegrationChange);\n            _user_store2.default.removeChangeListener(this.handleUserChange);\n        }\n    }, {\n        key: 'handleIntegrationChange',\n        value: function handleIntegrationChange() {\n            var teamId = this.props.team.id;\n\n            this.setState({\n                commands: _integration_store2.default.getCommands(teamId),\n                loading: !_integration_store2.default.hasReceivedCommands(teamId)\n            });\n        }\n    }, {\n        key: 'handleUserChange',\n        value: function handleUserChange() {\n            this.setState({ users: _user_store2.default.getProfiles() });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.cloneElement(this.props.children, {\n                    commands: this.state.commands,\n                    users: this.state.users,\n                    loading: this.state.loading,\n                    team: this.props.team,\n                    user: this.props.user,\n                    isAdmin: this.props.isAdmin\n                })\n            );\n        }\n    }]);\n    return CommandsContainer;\n}(_react2.default.Component); // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = CommandsContainer;\n\n/***/ }),\n\n/***/ 1740:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _map = __webpack_require__(278);\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _getPrototypeOf = __webpack_require__(51);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(32);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(33);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(50);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(49);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _app_dispatcher = __webpack_require__(26);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _constants = __webpack_require__(10);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _events = __webpack_require__(67);\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActionTypes = _constants2.default.ActionTypes; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar CHANGE_EVENT = 'changed';\n\nvar IntegrationStore = function (_EventEmitter) {\n    (0, _inherits3.default)(IntegrationStore, _EventEmitter);\n\n    function IntegrationStore() {\n        (0, _classCallCheck3.default)(this, IntegrationStore);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (IntegrationStore.__proto__ || (0, _getPrototypeOf2.default)(IntegrationStore)).call(this));\n\n        _this.dispatchToken = _app_dispatcher2.default.register(_this.handleEventPayload.bind(_this));\n\n        _this.incomingWebhooks = new _map2.default();\n\n        _this.outgoingWebhooks = new _map2.default();\n\n        _this.commands = new _map2.default();\n\n        _this.oauthApps = new _map2.default();\n        return _this;\n    }\n\n    (0, _createClass3.default)(IntegrationStore, [{\n        key: 'addChangeListener',\n        value: function addChangeListener(callback) {\n            this.on(CHANGE_EVENT, callback);\n        }\n    }, {\n        key: 'removeChangeListener',\n        value: function removeChangeListener(callback) {\n            this.removeListener(CHANGE_EVENT, callback);\n        }\n    }, {\n        key: 'emitChange',\n        value: function emitChange() {\n            this.emit(CHANGE_EVENT);\n        }\n    }, {\n        key: 'hasReceivedIncomingWebhooks',\n        value: function hasReceivedIncomingWebhooks(teamId) {\n            return this.incomingWebhooks.has(teamId);\n        }\n    }, {\n        key: 'getIncomingWebhooks',\n        value: function getIncomingWebhooks(teamId) {\n            return this.incomingWebhooks.get(teamId) || [];\n        }\n    }, {\n        key: 'setIncomingWebhooks',\n        value: function setIncomingWebhooks(teamId, incomingWebhooks) {\n            this.incomingWebhooks.set(teamId, incomingWebhooks);\n        }\n    }, {\n        key: 'addIncomingWebhook',\n        value: function addIncomingWebhook(incomingWebhook) {\n            var teamId = incomingWebhook.team_id;\n            var incomingWebhooks = this.getIncomingWebhooks(teamId);\n\n            incomingWebhooks.push(incomingWebhook);\n\n            this.setIncomingWebhooks(teamId, incomingWebhooks);\n        }\n    }, {\n        key: 'updateIncomingWebhook',\n        value: function updateIncomingWebhook(incomingWebhook) {\n            var teamId = incomingWebhook.team_id;\n            var incomingWebhooks = this.getIncomingWebhooks(teamId);\n\n            for (var i = 0; i < incomingWebhooks.length; i++) {\n                if (incomingWebhooks[i].id === incomingWebhook.id) {\n                    incomingWebhooks[i] = incomingWebhook;\n                    break;\n                }\n            }\n\n            this.setIncomingWebhooks(teamId, incomingWebhooks);\n        }\n    }, {\n        key: 'removeIncomingWebhook',\n        value: function removeIncomingWebhook(teamId, id) {\n            var incomingWebhooks = this.getIncomingWebhooks(teamId);\n\n            incomingWebhooks = incomingWebhooks.filter(function (incomingWebhook) {\n                return incomingWebhook.id !== id;\n            });\n\n            this.setIncomingWebhooks(teamId, incomingWebhooks);\n        }\n    }, {\n        key: 'hasReceivedOutgoingWebhooks',\n        value: function hasReceivedOutgoingWebhooks(teamId) {\n            return this.outgoingWebhooks.has(teamId);\n        }\n    }, {\n        key: 'getOutgoingWebhooks',\n        value: function getOutgoingWebhooks(teamId) {\n            return this.outgoingWebhooks.get(teamId) || [];\n        }\n    }, {\n        key: 'getOutgoingWebhook',\n        value: function getOutgoingWebhook(teamId, id) {\n            return this.getOutgoingWebhooks(teamId).filter(function (outgoingWebhook) {\n                return outgoingWebhook.id === id;\n            })[0];\n        }\n    }, {\n        key: 'setOutgoingWebhooks',\n        value: function setOutgoingWebhooks(teamId, outgoingWebhooks) {\n            this.outgoingWebhooks.set(teamId, outgoingWebhooks);\n        }\n    }, {\n        key: 'addOutgoingWebhook',\n        value: function addOutgoingWebhook(outgoingWebhook) {\n            var teamId = outgoingWebhook.team_id;\n            var outgoingWebhooks = this.getOutgoingWebhooks(teamId);\n\n            outgoingWebhooks.push(outgoingWebhook);\n\n            this.setOutgoingWebhooks(teamId, outgoingWebhooks);\n        }\n    }, {\n        key: 'updateOutgoingWebhook',\n        value: function updateOutgoingWebhook(outgoingWebhook) {\n            var teamId = outgoingWebhook.team_id;\n            var outgoingWebhooks = this.getOutgoingWebhooks(teamId);\n\n            for (var i = 0; i < outgoingWebhooks.length; i++) {\n                if (outgoingWebhooks[i].id === outgoingWebhook.id) {\n                    outgoingWebhooks[i] = outgoingWebhook;\n                    break;\n                }\n            }\n\n            this.setOutgoingWebhooks(teamId, outgoingWebhooks);\n        }\n    }, {\n        key: 'removeOutgoingWebhook',\n        value: function removeOutgoingWebhook(teamId, id) {\n            var outgoingWebhooks = this.getOutgoingWebhooks(teamId);\n\n            outgoingWebhooks = outgoingWebhooks.filter(function (outgoingWebhook) {\n                return outgoingWebhook.id !== id;\n            });\n\n            this.setOutgoingWebhooks(teamId, outgoingWebhooks);\n        }\n    }, {\n        key: 'hasReceivedCommands',\n        value: function hasReceivedCommands(teamId) {\n            return this.commands.has(teamId);\n        }\n    }, {\n        key: 'getCommands',\n        value: function getCommands(teamId) {\n            return this.commands.get(teamId) || [];\n        }\n    }, {\n        key: 'getCommand',\n        value: function getCommand(teamId, id) {\n            return this.getCommands(teamId).filter(function (command) {\n                return command.id === id;\n            })[0];\n        }\n    }, {\n        key: 'setCommands',\n        value: function setCommands(teamId, commands) {\n            this.commands.set(teamId, commands);\n        }\n    }, {\n        key: 'addCommand',\n        value: function addCommand(command) {\n            var teamId = command.team_id;\n            var commands = this.getCommands(teamId);\n\n            commands.push(command);\n\n            this.setCommands(teamId, commands);\n        }\n    }, {\n        key: 'updateCommand',\n        value: function updateCommand(command) {\n            var teamId = command.team_id;\n            var commands = this.getCommands(teamId);\n\n            for (var i = 0; i < commands.length; i++) {\n                if (commands[i].id === command.id) {\n                    commands[i] = command;\n                    break;\n                }\n            }\n\n            this.setCommands(teamId, commands);\n        }\n    }, {\n        key: 'removeCommand',\n        value: function removeCommand(teamId, id) {\n            var commands = this.getCommands(teamId);\n\n            commands = commands.filter(function (command) {\n                return command.id !== id;\n            });\n\n            this.setCommands(teamId, commands);\n        }\n    }, {\n        key: 'hasReceivedOAuthApps',\n        value: function hasReceivedOAuthApps(userId) {\n            return this.oauthApps.has(userId);\n        }\n    }, {\n        key: 'getOAuthApps',\n        value: function getOAuthApps(userId) {\n            return this.oauthApps.get(userId) || [];\n        }\n    }, {\n        key: 'setOAuthApps',\n        value: function setOAuthApps(userId, oauthApps) {\n            this.oauthApps.set(userId, oauthApps);\n        }\n    }, {\n        key: 'addOAuthApp',\n        value: function addOAuthApp(oauthApp) {\n            var userId = oauthApp.creator_id;\n            var oauthApps = this.getOAuthApps(userId);\n\n            oauthApps.push(oauthApp);\n\n            this.setOAuthApps(userId, oauthApps);\n        }\n    }, {\n        key: 'removeOAuthApp',\n        value: function removeOAuthApp(userId, id) {\n            var apps = this.getOAuthApps(userId);\n\n            apps = apps.filter(function (app) {\n                return app.id !== id;\n            });\n\n            this.setOAuthApps(userId, apps);\n        }\n    }, {\n        key: 'handleEventPayload',\n        value: function handleEventPayload(payload) {\n            var action = payload.action;\n\n            switch (action.type) {\n                case ActionTypes.RECEIVED_INCOMING_WEBHOOKS:\n                    this.setIncomingWebhooks(action.teamId, action.incomingWebhooks);\n                    this.emitChange();\n                    break;\n                case ActionTypes.RECEIVED_INCOMING_WEBHOOK:\n                    this.addIncomingWebhook(action.incomingWebhook);\n                    this.emitChange();\n                    break;\n                case ActionTypes.UPDATED_INCOMING_WEBHOOK:\n                    this.updateIncomingWebhook(action.incomingWebhook);\n                    this.emitChange();\n                    break;\n                case ActionTypes.REMOVED_INCOMING_WEBHOOK:\n                    this.removeIncomingWebhook(action.teamId, action.id);\n                    this.emitChange();\n                    break;\n                case ActionTypes.RECEIVED_OUTGOING_WEBHOOKS:\n                    this.setOutgoingWebhooks(action.teamId, action.outgoingWebhooks);\n                    this.emitChange();\n                    break;\n                case ActionTypes.RECEIVED_OUTGOING_WEBHOOK:\n                    this.addOutgoingWebhook(action.outgoingWebhook);\n                    this.emitChange();\n                    break;\n                case ActionTypes.UPDATED_OUTGOING_WEBHOOK:\n                    this.updateOutgoingWebhook(action.outgoingWebhook);\n                    this.emitChange();\n                    break;\n                case ActionTypes.REMOVED_OUTGOING_WEBHOOK:\n                    this.removeOutgoingWebhook(action.teamId, action.id);\n                    this.emitChange();\n                    break;\n                case ActionTypes.RECEIVED_COMMANDS:\n                    this.setCommands(action.teamId, action.commands);\n                    this.emitChange();\n                    break;\n                case ActionTypes.RECEIVED_COMMAND:\n                    this.addCommand(action.command);\n                    this.emitChange();\n                    break;\n                case ActionTypes.UPDATED_COMMAND:\n                    this.updateCommand(action.command);\n                    this.emitChange();\n                    break;\n                case ActionTypes.REMOVED_COMMAND:\n                    this.removeCommand(action.teamId, action.id);\n                    this.emitChange();\n                    break;\n                case ActionTypes.RECEIVED_OAUTHAPPS:\n                    this.setOAuthApps(action.userId, action.oauthApps);\n                    this.emitChange();\n                    break;\n                case ActionTypes.RECEIVED_OAUTHAPP:\n                    this.addOAuthApp(action.oauthApp);\n                    this.emitChange();\n                    break;\n                case ActionTypes.REMOVED_OAUTHAPP:\n                    this.removeOAuthApp(action.userId, action.id);\n                    this.emitChange();\n                    break;\n            }\n        }\n    }]);\n    return IntegrationStore;\n}(_events2.default);\n\nexports.default = new IntegrationStore();\n\n/***/ }),\n\n/***/ 1753:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(78);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nexports.loadIncomingHooks = loadIncomingHooks;\nexports.loadOutgoingHooks = loadOutgoingHooks;\nexports.loadTeamCommands = loadTeamCommands;\n\nvar _app_dispatcher = __webpack_require__(26);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _team_store = __webpack_require__(43);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(22);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _async_client = __webpack_require__(113);\n\nvar AsyncClient = _interopRequireWildcard(_async_client);\n\nvar _web_client = __webpack_require__(52);\n\nvar _web_client2 = _interopRequireDefault(_web_client);\n\nvar _constants = __webpack_require__(10);\n\nvar _redux_store = __webpack_require__(36);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _users = __webpack_require__(115);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dispatch = _redux_store2.default.dispatch;\n\n// Redux actions\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar getState = _redux_store2.default.getState;\nfunction loadIncomingHooks() {\n    _web_client2.default.listIncomingHooks(function (data) {\n        _app_dispatcher2.default.handleServerAction({\n            type: _constants.ActionTypes.RECEIVED_INCOMING_WEBHOOKS,\n            teamId: _team_store2.default.getCurrentId(),\n            incomingWebhooks: data\n        });\n\n        loadProfilesForIncomingHooks(data);\n    }, function (err) {\n        AsyncClient.dispatchError(err, 'listIncomingHooks');\n    });\n}\n\nfunction loadProfilesForIncomingHooks(hooks) {\n    var profilesToLoad = {};\n    for (var i = 0; i < hooks.length; i++) {\n        var hook = hooks[i];\n        if (!_user_store2.default.hasProfile(hook.user_id)) {\n            profilesToLoad[hook.user_id] = true;\n        }\n    }\n\n    var list = (0, _keys2.default)(profilesToLoad);\n    if (list.length === 0) {\n        return;\n    }\n\n    (0, _users.getProfilesByIds)(list)(dispatch, getState);\n}\n\nfunction loadOutgoingHooks() {\n    _web_client2.default.listOutgoingHooks(function (data) {\n        _app_dispatcher2.default.handleServerAction({\n            type: _constants.ActionTypes.RECEIVED_OUTGOING_WEBHOOKS,\n            teamId: _team_store2.default.getCurrentId(),\n            outgoingWebhooks: data\n        });\n\n        loadProfilesForOutgoingHooks(data);\n    }, function (err) {\n        AsyncClient.dispatchError(err, 'listOutgoingHooks');\n    });\n}\n\nfunction loadProfilesForOutgoingHooks(hooks) {\n    var profilesToLoad = {};\n    for (var i = 0; i < hooks.length; i++) {\n        var hook = hooks[i];\n        if (!_user_store2.default.hasProfile(hook.creator_id)) {\n            profilesToLoad[hook.creator_id] = true;\n        }\n    }\n\n    var list = (0, _keys2.default)(profilesToLoad);\n    if (list.length === 0) {\n        return;\n    }\n\n    (0, _users.getProfilesByIds)(list)(dispatch, getState);\n}\n\nfunction loadTeamCommands() {\n    _web_client2.default.listTeamCommands(function (data) {\n        _app_dispatcher2.default.handleServerAction({\n            type: _constants.ActionTypes.RECEIVED_COMMANDS,\n            teamId: _web_client2.default.teamId,\n            commands: data\n        });\n\n        loadProfilesForCommands(data);\n    }, function (err) {\n        AsyncClient.dispatchError(err, 'loadTeamCommands');\n    });\n}\n\nfunction loadProfilesForCommands(commands) {\n    var profilesToLoad = {};\n    for (var i = 0; i < commands.length; i++) {\n        var command = commands[i];\n        if (!_user_store2.default.hasProfile(command.creator_id)) {\n            profilesToLoad[command.creator_id] = true;\n        }\n    }\n\n    var list = (0, _keys2.default)(profilesToLoad);\n    if (list.length === 0) {\n        return;\n    }\n\n    (0, _users.getProfilesByIds)(list)(dispatch, getState);\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 43.daa6674875b95da8542c.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport IntegrationStore from 'stores/integration_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport {loadTeamCommands} from 'actions/integration_actions.jsx';\n\nimport PropTypes from 'prop-types';\n\nimport React from 'react';\n\nexport default class CommandsContainer extends React.Component {\n    static get propTypes() {\n        return {\n            team: PropTypes.object,\n            user: PropTypes.object,\n            children: PropTypes.node.isRequired,\n            isAdmin: PropTypes.bool\n        };\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.handleIntegrationChange = this.handleIntegrationChange.bind(this);\n        this.handleUserChange = this.handleUserChange.bind(this);\n\n        const teamId = this.props.team ? this.props.team.id : '';\n\n        this.state = {\n            commands: IntegrationStore.getCommands(teamId) || [],\n            loading: !IntegrationStore.hasReceivedCommands(teamId),\n            users: UserStore.getProfiles()\n        };\n    }\n\n    componentDidMount() {\n        IntegrationStore.addChangeListener(this.handleIntegrationChange);\n        UserStore.addChangeListener(this.handleUserChange);\n\n        if (window.mm_config.EnableCommands === 'true') {\n            loadTeamCommands();\n        }\n    }\n\n    componentWillUnmount() {\n        IntegrationStore.removeChangeListener(this.handleIntegrationChange);\n        UserStore.removeChangeListener(this.handleUserChange);\n    }\n\n    handleIntegrationChange() {\n        const teamId = this.props.team.id;\n\n        this.setState({\n            commands: IntegrationStore.getCommands(teamId),\n            loading: !IntegrationStore.hasReceivedCommands(teamId)\n        });\n    }\n\n    handleUserChange() {\n        this.setState({users: UserStore.getProfiles()});\n    }\n\n    render() {\n        return (\n            <div>\n                {React.cloneElement(this.props.children, {\n                    commands: this.state.commands,\n                    users: this.state.users,\n                    loading: this.state.loading,\n                    team: this.props.team,\n                    user: this.props.user,\n                    isAdmin: this.props.isAdmin\n                })}\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/commands_container.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport AppDispatcher from '../dispatcher/app_dispatcher.jsx';\nimport Constants from 'utils/constants.jsx';\nimport EventEmitter from 'events';\n\nconst ActionTypes = Constants.ActionTypes;\n\nconst CHANGE_EVENT = 'changed';\n\nclass IntegrationStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.dispatchToken = AppDispatcher.register(this.handleEventPayload.bind(this));\n\n        this.incomingWebhooks = new Map();\n\n        this.outgoingWebhooks = new Map();\n\n        this.commands = new Map();\n\n        this.oauthApps = new Map();\n    }\n\n    addChangeListener(callback) {\n        this.on(CHANGE_EVENT, callback);\n    }\n\n    removeChangeListener(callback) {\n        this.removeListener(CHANGE_EVENT, callback);\n    }\n\n    emitChange() {\n        this.emit(CHANGE_EVENT);\n    }\n\n    hasReceivedIncomingWebhooks(teamId) {\n        return this.incomingWebhooks.has(teamId);\n    }\n\n    getIncomingWebhooks(teamId) {\n        return this.incomingWebhooks.get(teamId) || [];\n    }\n\n    setIncomingWebhooks(teamId, incomingWebhooks) {\n        this.incomingWebhooks.set(teamId, incomingWebhooks);\n    }\n\n    addIncomingWebhook(incomingWebhook) {\n        const teamId = incomingWebhook.team_id;\n        const incomingWebhooks = this.getIncomingWebhooks(teamId);\n\n        incomingWebhooks.push(incomingWebhook);\n\n        this.setIncomingWebhooks(teamId, incomingWebhooks);\n    }\n\n    updateIncomingWebhook(incomingWebhook) {\n        const teamId = incomingWebhook.team_id;\n        const incomingWebhooks = this.getIncomingWebhooks(teamId);\n\n        for (let i = 0; i < incomingWebhooks.length; i++) {\n            if (incomingWebhooks[i].id === incomingWebhook.id) {\n                incomingWebhooks[i] = incomingWebhook;\n                break;\n            }\n        }\n\n        this.setIncomingWebhooks(teamId, incomingWebhooks);\n    }\n\n    removeIncomingWebhook(teamId, id) {\n        let incomingWebhooks = this.getIncomingWebhooks(teamId);\n\n        incomingWebhooks = incomingWebhooks.filter((incomingWebhook) => incomingWebhook.id !== id);\n\n        this.setIncomingWebhooks(teamId, incomingWebhooks);\n    }\n\n    hasReceivedOutgoingWebhooks(teamId) {\n        return this.outgoingWebhooks.has(teamId);\n    }\n\n    getOutgoingWebhooks(teamId) {\n        return this.outgoingWebhooks.get(teamId) || [];\n    }\n\n    getOutgoingWebhook(teamId, id) {\n        return this.getOutgoingWebhooks(teamId).filter((outgoingWebhook) => outgoingWebhook.id === id)[0];\n    }\n\n    setOutgoingWebhooks(teamId, outgoingWebhooks) {\n        this.outgoingWebhooks.set(teamId, outgoingWebhooks);\n    }\n\n    addOutgoingWebhook(outgoingWebhook) {\n        const teamId = outgoingWebhook.team_id;\n        const outgoingWebhooks = this.getOutgoingWebhooks(teamId);\n\n        outgoingWebhooks.push(outgoingWebhook);\n\n        this.setOutgoingWebhooks(teamId, outgoingWebhooks);\n    }\n\n    updateOutgoingWebhook(outgoingWebhook) {\n        const teamId = outgoingWebhook.team_id;\n        const outgoingWebhooks = this.getOutgoingWebhooks(teamId);\n\n        for (let i = 0; i < outgoingWebhooks.length; i++) {\n            if (outgoingWebhooks[i].id === outgoingWebhook.id) {\n                outgoingWebhooks[i] = outgoingWebhook;\n                break;\n            }\n        }\n\n        this.setOutgoingWebhooks(teamId, outgoingWebhooks);\n    }\n\n    removeOutgoingWebhook(teamId, id) {\n        let outgoingWebhooks = this.getOutgoingWebhooks(teamId);\n\n        outgoingWebhooks = outgoingWebhooks.filter((outgoingWebhook) => outgoingWebhook.id !== id);\n\n        this.setOutgoingWebhooks(teamId, outgoingWebhooks);\n    }\n\n    hasReceivedCommands(teamId) {\n        return this.commands.has(teamId);\n    }\n\n    getCommands(teamId) {\n        return this.commands.get(teamId) || [];\n    }\n\n    getCommand(teamId, id) {\n        return this.getCommands(teamId).filter((command) => command.id === id)[0];\n    }\n\n    setCommands(teamId, commands) {\n        this.commands.set(teamId, commands);\n    }\n\n    addCommand(command) {\n        const teamId = command.team_id;\n        const commands = this.getCommands(teamId);\n\n        commands.push(command);\n\n        this.setCommands(teamId, commands);\n    }\n\n    updateCommand(command) {\n        const teamId = command.team_id;\n        const commands = this.getCommands(teamId);\n\n        for (let i = 0; i < commands.length; i++) {\n            if (commands[i].id === command.id) {\n                commands[i] = command;\n                break;\n            }\n        }\n\n        this.setCommands(teamId, commands);\n    }\n\n    removeCommand(teamId, id) {\n        let commands = this.getCommands(teamId);\n\n        commands = commands.filter((command) => command.id !== id);\n\n        this.setCommands(teamId, commands);\n    }\n\n    hasReceivedOAuthApps(userId) {\n        return this.oauthApps.has(userId);\n    }\n\n    getOAuthApps(userId) {\n        return this.oauthApps.get(userId) || [];\n    }\n\n    setOAuthApps(userId, oauthApps) {\n        this.oauthApps.set(userId, oauthApps);\n    }\n\n    addOAuthApp(oauthApp) {\n        const userId = oauthApp.creator_id;\n        const oauthApps = this.getOAuthApps(userId);\n\n        oauthApps.push(oauthApp);\n\n        this.setOAuthApps(userId, oauthApps);\n    }\n\n    removeOAuthApp(userId, id) {\n        let apps = this.getOAuthApps(userId);\n\n        apps = apps.filter((app) => app.id !== id);\n\n        this.setOAuthApps(userId, apps);\n    }\n\n    handleEventPayload(payload) {\n        const action = payload.action;\n\n        switch (action.type) {\n        case ActionTypes.RECEIVED_INCOMING_WEBHOOKS:\n            this.setIncomingWebhooks(action.teamId, action.incomingWebhooks);\n            this.emitChange();\n            break;\n        case ActionTypes.RECEIVED_INCOMING_WEBHOOK:\n            this.addIncomingWebhook(action.incomingWebhook);\n            this.emitChange();\n            break;\n        case ActionTypes.UPDATED_INCOMING_WEBHOOK:\n            this.updateIncomingWebhook(action.incomingWebhook);\n            this.emitChange();\n            break;\n        case ActionTypes.REMOVED_INCOMING_WEBHOOK:\n            this.removeIncomingWebhook(action.teamId, action.id);\n            this.emitChange();\n            break;\n        case ActionTypes.RECEIVED_OUTGOING_WEBHOOKS:\n            this.setOutgoingWebhooks(action.teamId, action.outgoingWebhooks);\n            this.emitChange();\n            break;\n        case ActionTypes.RECEIVED_OUTGOING_WEBHOOK:\n            this.addOutgoingWebhook(action.outgoingWebhook);\n            this.emitChange();\n            break;\n        case ActionTypes.UPDATED_OUTGOING_WEBHOOK:\n            this.updateOutgoingWebhook(action.outgoingWebhook);\n            this.emitChange();\n            break;\n        case ActionTypes.REMOVED_OUTGOING_WEBHOOK:\n            this.removeOutgoingWebhook(action.teamId, action.id);\n            this.emitChange();\n            break;\n        case ActionTypes.RECEIVED_COMMANDS:\n            this.setCommands(action.teamId, action.commands);\n            this.emitChange();\n            break;\n        case ActionTypes.RECEIVED_COMMAND:\n            this.addCommand(action.command);\n            this.emitChange();\n            break;\n        case ActionTypes.UPDATED_COMMAND:\n            this.updateCommand(action.command);\n            this.emitChange();\n            break;\n        case ActionTypes.REMOVED_COMMAND:\n            this.removeCommand(action.teamId, action.id);\n            this.emitChange();\n            break;\n        case ActionTypes.RECEIVED_OAUTHAPPS:\n            this.setOAuthApps(action.userId, action.oauthApps);\n            this.emitChange();\n            break;\n        case ActionTypes.RECEIVED_OAUTHAPP:\n            this.addOAuthApp(action.oauthApp);\n            this.emitChange();\n            break;\n        case ActionTypes.REMOVED_OAUTHAPP:\n            this.removeOAuthApp(action.userId, action.id);\n            this.emitChange();\n            break;\n        }\n    }\n}\n\nexport default new IntegrationStore();\n\n\n\n// WEBPACK FOOTER //\n// ./stores/integration_store.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\n\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport * as AsyncClient from 'utils/async_client.jsx';\nimport Client from 'client/web_client.jsx';\n\nimport {ActionTypes} from 'utils/constants.jsx';\n\n// Redux actions\nimport store from 'stores/redux_store.jsx';\nconst dispatch = store.dispatch;\nconst getState = store.getState;\nimport {getProfilesByIds} from 'mattermost-redux/actions/users';\n\nexport function loadIncomingHooks() {\n    Client.listIncomingHooks(\n        (data) => {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_INCOMING_WEBHOOKS,\n                teamId: TeamStore.getCurrentId(),\n                incomingWebhooks: data\n            });\n\n            loadProfilesForIncomingHooks(data);\n        },\n        (err) => {\n            AsyncClient.dispatchError(err, 'listIncomingHooks');\n        }\n    );\n}\n\nfunction loadProfilesForIncomingHooks(hooks) {\n    const profilesToLoad = {};\n    for (let i = 0; i < hooks.length; i++) {\n        const hook = hooks[i];\n        if (!UserStore.hasProfile(hook.user_id)) {\n            profilesToLoad[hook.user_id] = true;\n        }\n    }\n\n    const list = Object.keys(profilesToLoad);\n    if (list.length === 0) {\n        return;\n    }\n\n    getProfilesByIds(list)(dispatch, getState);\n}\n\nexport function loadOutgoingHooks() {\n    Client.listOutgoingHooks(\n        (data) => {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_OUTGOING_WEBHOOKS,\n                teamId: TeamStore.getCurrentId(),\n                outgoingWebhooks: data\n            });\n\n            loadProfilesForOutgoingHooks(data);\n        },\n        (err) => {\n            AsyncClient.dispatchError(err, 'listOutgoingHooks');\n        }\n    );\n}\n\nfunction loadProfilesForOutgoingHooks(hooks) {\n    const profilesToLoad = {};\n    for (let i = 0; i < hooks.length; i++) {\n        const hook = hooks[i];\n        if (!UserStore.hasProfile(hook.creator_id)) {\n            profilesToLoad[hook.creator_id] = true;\n        }\n    }\n\n    const list = Object.keys(profilesToLoad);\n    if (list.length === 0) {\n        return;\n    }\n\n    getProfilesByIds(list)(dispatch, getState);\n}\n\nexport function loadTeamCommands() {\n    Client.listTeamCommands(\n        (data) => {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_COMMANDS,\n                teamId: Client.teamId,\n                commands: data\n            });\n\n            loadProfilesForCommands(data);\n        },\n        (err) => {\n            AsyncClient.dispatchError(err, 'loadTeamCommands');\n        }\n    );\n}\n\nfunction loadProfilesForCommands(commands) {\n    const profilesToLoad = {};\n    for (let i = 0; i < commands.length; i++) {\n        const command = commands[i];\n        if (!UserStore.hasProfile(command.creator_id)) {\n            profilesToLoad[command.creator_id] = true;\n        }\n    }\n\n    const list = Object.keys(profilesToLoad);\n    if (list.length === 0) {\n        return;\n    }\n\n    getProfilesByIds(list)(dispatch, getState);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./actions/integration_actions.jsx"],"sourceRoot":""}