{"version":3,"sources":["webpack:///50.b2352b31d45fb52d5188.js","webpack:///./components/claim/components/ldap_to_email.jsx","webpack:///./components/login/components/login_mfa.jsx?99b8**"],"names":["webpackJsonp","1376","module","exports","__webpack_require__","global","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_login_mfa","_login_mfa2","_utils","Utils","newObj","key","prototype","hasOwnProperty","call","_user_actions","_propTypes","_propTypes2","_react","_react2","_reactIntl","LDAPToEmail","_React$Component","props","this","_this","__proto__","submit","bind","preSubmit","state","passwordError","confirmError","ldapPasswordError","serverError","e","_this2","preventDefault","ldapPassword","refs","ldappassword","localizeMessage","setState","password","passwordErr","isValidPassword","confirmPassword","passwordconfirm","checkMfa","email","requiresMfa","showMfa","err","error","message","loginId","token","_this3","switchFromLdapToEmail","formClass","createElement","className","passwordClass","ldapPasswordClass","confimClass","passwordPlaceholder","window","mm_config","LdapPasswordFieldName","content","onSubmit","FormattedMessage","id","defaultMessage","values","site","SiteName","type","name","ref","placeholder","spellCheck","Component","defaultProps","propTypes","string","1785","LoginMfa","handleSubmit","trim","replace","errorClass","autoComplete","autoFocus","isRequired","func"],"mappings":"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","file":"50.b2352b31d45fb52d5188.js","sourcesContent":["webpackJsonp([50],{\n\n/***/ 1376:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(51);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(32);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(33);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(50);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(49);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _login_mfa = __webpack_require__(1785);\n\nvar _login_mfa2 = _interopRequireDefault(_login_mfa);\n\nvar _utils = __webpack_require__(28);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _user_actions = __webpack_require__(114);\n\nvar _propTypes = __webpack_require__(151);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(14);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(197);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar LDAPToEmail = function (_React$Component) {\n    (0, _inherits3.default)(LDAPToEmail, _React$Component);\n\n    function LDAPToEmail(props) {\n        (0, _classCallCheck3.default)(this, LDAPToEmail);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (LDAPToEmail.__proto__ || (0, _getPrototypeOf2.default)(LDAPToEmail)).call(this, props));\n\n        _this.submit = _this.submit.bind(_this);\n        _this.preSubmit = _this.preSubmit.bind(_this);\n\n        _this.state = {\n            passwordError: '',\n            confirmError: '',\n            ldapPasswordError: '',\n            serverError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(LDAPToEmail, [{\n        key: 'preSubmit',\n        value: function preSubmit(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n\n            var state = {\n                passwordError: '',\n                confirmError: '',\n                ldapPasswordError: '',\n                serverError: ''\n            };\n\n            var ldapPassword = this.refs.ldappassword.value;\n            if (!ldapPassword) {\n                state.ldapPasswordError = Utils.localizeMessage('claim.ldap_to_email.ldapPasswordError', 'Please enter your AD/LDAP password.');\n                this.setState(state);\n                return;\n            }\n\n            var password = this.refs.password.value;\n            if (!password) {\n                state.passwordError = Utils.localizeMessage('claim.ldap_to_email.pwdError', 'Please enter your password.');\n                this.setState(state);\n                return;\n            }\n\n            var passwordErr = Utils.isValidPassword(password);\n            if (passwordErr !== '') {\n                this.setState({\n                    passwordError: passwordErr\n                });\n                return;\n            }\n\n            var confirmPassword = this.refs.passwordconfirm.value;\n            if (!confirmPassword || password !== confirmPassword) {\n                state.confirmError = Utils.localizeMessage('claim.ldap_to_email.pwdNotMatch', 'Passwords do not match.');\n                this.setState(state);\n                return;\n            }\n\n            state.password = password;\n            state.ldapPassword = ldapPassword;\n            this.setState(state);\n\n            (0, _user_actions.checkMfa)(this.props.email, function (requiresMfa) {\n                if (requiresMfa) {\n                    _this2.setState({ showMfa: true });\n                } else {\n                    _this2.submit(_this2.props.email, password, '', ldapPassword);\n                }\n            }, function (err) {\n                _this2.setState({ error: err.message });\n            });\n        }\n    }, {\n        key: 'submit',\n        value: function submit(loginId, password, token, ldapPassword) {\n            var _this3 = this;\n\n            (0, _user_actions.switchFromLdapToEmail)(this.props.email, password, token, ldapPassword || this.state.ldapPassword, null, function (err) {\n                return _this3.setState({ serverError: err.message, showMfa: false });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var serverError = null;\n            var formClass = 'form-group';\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.serverError\n                    )\n                );\n                formClass += ' has-error';\n            }\n\n            var passwordError = null;\n            var passwordClass = 'form-group';\n            if (this.state.passwordError) {\n                passwordError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.passwordError\n                    )\n                );\n                passwordClass += ' has-error';\n            }\n\n            var ldapPasswordError = null;\n            var ldapPasswordClass = 'form-group';\n            if (this.state.ldapPasswordError) {\n                ldapPasswordError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.ldapPasswordError\n                    )\n                );\n                ldapPasswordClass += ' has-error';\n            }\n\n            var confirmError = null;\n            var confimClass = 'form-group';\n            if (this.state.confirmError) {\n                confirmError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.confirmError\n                    )\n                );\n                confimClass += ' has-error';\n            }\n\n            var passwordPlaceholder = void 0;\n            if (global.window.mm_config.LdapPasswordFieldName) {\n                passwordPlaceholder = global.window.mm_config.LdapPasswordFieldName;\n            } else {\n                passwordPlaceholder = Utils.localizeMessage('claim.ldap_to_email.ldapPwd', 'AD/LDAP Password');\n            }\n\n            var content = void 0;\n            if (this.state.showMfa) {\n                content = _react2.default.createElement(_login_mfa2.default, {\n                    loginId: this.props.email,\n                    password: this.state.password,\n                    submit: this.submit\n                });\n            } else {\n                content = _react2.default.createElement(\n                    'form',\n                    {\n                        onSubmit: this.preSubmit,\n                        className: formClass\n                    },\n                    _react2.default.createElement(\n                        'p',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'claim.ldap_to_email.ssoType',\n                            defaultMessage: 'Upon claiming your account, you will only be able to login with your email and password'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'p',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'claim.ldap_to_email.email',\n                            defaultMessage: 'You will use the email {email} to login',\n                            values: {\n                                email: this.props.email\n                            }\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'p',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'claim.ldap_to_email.enterLdapPwd',\n                            defaultMessage: 'Enter your {ldapPassword} for your {site} email account',\n                            values: {\n                                ldapPassword: passwordPlaceholder,\n                                site: global.window.mm_config.SiteName\n                            }\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: ldapPasswordClass },\n                        _react2.default.createElement('input', {\n                            type: 'password',\n                            className: 'form-control',\n                            name: 'ldapPassword',\n                            ref: 'ldappassword',\n                            placeholder: passwordPlaceholder,\n                            spellCheck: 'false'\n                        })\n                    ),\n                    ldapPasswordError,\n                    _react2.default.createElement(\n                        'p',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'claim.ldap_to_email.enterPwd',\n                            defaultMessage: 'Enter a new password for your email account'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: passwordClass },\n                        _react2.default.createElement('input', {\n                            type: 'password',\n                            className: 'form-control',\n                            name: 'password',\n                            ref: 'password',\n                            placeholder: Utils.localizeMessage('claim.ldap_to_email.pwd', 'Password'),\n                            spellCheck: 'false'\n                        })\n                    ),\n                    passwordError,\n                    _react2.default.createElement(\n                        'div',\n                        { className: confimClass },\n                        _react2.default.createElement('input', {\n                            type: 'password',\n                            className: 'form-control',\n                            name: 'passwordconfirm',\n                            ref: 'passwordconfirm',\n                            placeholder: Utils.localizeMessage('claim.ldap_to_email.confirm', 'Confirm Password'),\n                            spellCheck: 'false'\n                        })\n                    ),\n                    confirmError,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'submit',\n                            className: 'btn btn-primary'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'claim.ldap_to_email.switchTo',\n                            defaultMessage: 'Switch account to email/password'\n                        })\n                    ),\n                    serverError\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'h3',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'claim.ldap_to_email.title',\n                        defaultMessage: 'Switch AD/LDAP Account to Email/Password'\n                    })\n                ),\n                content\n            );\n        }\n    }]);\n    return LDAPToEmail;\n}(_react2.default.Component);\n\nexports.default = LDAPToEmail;\n\n\nLDAPToEmail.defaultProps = {};\nLDAPToEmail.propTypes = {\n    email: _propTypes2.default.string\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(16)))\n\n/***/ }),\n\n/***/ 1785:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(51);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(32);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(33);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(50);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(49);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _utils = __webpack_require__(28);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _reactIntl = __webpack_require__(197);\n\nvar _propTypes = __webpack_require__(151);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(14);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar LoginMfa = function (_React$Component) {\n    (0, _inherits3.default)(LoginMfa, _React$Component);\n\n    function LoginMfa(props) {\n        (0, _classCallCheck3.default)(this, LoginMfa);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (LoginMfa.__proto__ || (0, _getPrototypeOf2.default)(LoginMfa)).call(this, props));\n\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n\n        _this.state = {\n            serverError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(LoginMfa, [{\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            e.preventDefault();\n            var state = {};\n\n            var token = this.refs.token.value.trim().replace(/\\s/g, '');\n            if (!token) {\n                state.serverError = Utils.localizeMessage('login_mfa.tokenReq', 'Please enter an MFA token');\n                this.setState(state);\n                return;\n            }\n\n            state.serverError = '';\n            this.setState(state);\n\n            this.props.submit(this.props.loginId, this.props.password, token);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var serverError = void 0;\n            var errorClass = '';\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'label',\n                    { className: 'control-label' },\n                    this.state.serverError\n                );\n                errorClass = ' has-error';\n            }\n\n            return _react2.default.createElement(\n                'form',\n                { onSubmit: this.handleSubmit },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'signup__email-container' },\n                    _react2.default.createElement(\n                        'p',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'login_mfa.enterToken',\n                            defaultMessage: 'To complete the sign in process, please enter a token from your smartphone\\'s authenticator'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group' + errorClass },\n                        serverError\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group' + errorClass },\n                        _react2.default.createElement('input', {\n                            type: 'text',\n                            className: 'form-control',\n                            name: 'token',\n                            ref: 'token',\n                            placeholder: Utils.localizeMessage('login_mfa.token', 'MFA Token'),\n                            spellCheck: 'false',\n                            autoComplete: 'off',\n                            autoFocus: true\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group' },\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'submit',\n                                className: 'btn btn-primary'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'login_mfa.submit',\n                                defaultMessage: 'Submit'\n                            })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return LoginMfa;\n}(_react2.default.Component);\n\nexports.default = LoginMfa;\n\nLoginMfa.defaultProps = {};\n\nLoginMfa.propTypes = {\n    loginId: _propTypes2.default.string.isRequired,\n    password: _propTypes2.default.string.isRequired,\n    submit: _propTypes2.default.func.isRequired\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 50.b2352b31d45fb52d5188.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport LoginMfa from 'components/login/components/login_mfa.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport {checkMfa, switchFromLdapToEmail} from 'actions/user_actions.jsx';\n\nimport PropTypes from 'prop-types';\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class LDAPToEmail extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.submit = this.submit.bind(this);\n        this.preSubmit = this.preSubmit.bind(this);\n\n        this.state = {\n            passwordError: '',\n            confirmError: '',\n            ldapPasswordError: '',\n            serverError: ''\n        };\n    }\n\n    preSubmit(e) {\n        e.preventDefault();\n\n        var state = {\n            passwordError: '',\n            confirmError: '',\n            ldapPasswordError: '',\n            serverError: ''\n        };\n\n        const ldapPassword = this.refs.ldappassword.value;\n        if (!ldapPassword) {\n            state.ldapPasswordError = Utils.localizeMessage('claim.ldap_to_email.ldapPasswordError', 'Please enter your AD/LDAP password.');\n            this.setState(state);\n            return;\n        }\n\n        const password = this.refs.password.value;\n        if (!password) {\n            state.passwordError = Utils.localizeMessage('claim.ldap_to_email.pwdError', 'Please enter your password.');\n            this.setState(state);\n            return;\n        }\n\n        const passwordErr = Utils.isValidPassword(password);\n        if (passwordErr !== '') {\n            this.setState({\n                passwordError: passwordErr\n            });\n            return;\n        }\n\n        const confirmPassword = this.refs.passwordconfirm.value;\n        if (!confirmPassword || password !== confirmPassword) {\n            state.confirmError = Utils.localizeMessage('claim.ldap_to_email.pwdNotMatch', 'Passwords do not match.');\n            this.setState(state);\n            return;\n        }\n\n        state.password = password;\n        state.ldapPassword = ldapPassword;\n        this.setState(state);\n\n        checkMfa(\n            this.props.email,\n            (requiresMfa) => {\n                if (requiresMfa) {\n                    this.setState({showMfa: true});\n                } else {\n                    this.submit(this.props.email, password, '', ldapPassword);\n                }\n            },\n            (err) => {\n                this.setState({error: err.message});\n            }\n        );\n    }\n\n    submit(loginId, password, token, ldapPassword) {\n        switchFromLdapToEmail(\n            this.props.email,\n            password,\n            token,\n            ldapPassword || this.state.ldapPassword,\n            null,\n            (err) => this.setState({serverError: err.message, showMfa: false})\n        );\n    }\n\n    render() {\n        let serverError = null;\n        let formClass = 'form-group';\n        if (this.state.serverError) {\n            serverError = <div className='form-group has-error'><label className='control-label'>{this.state.serverError}</label></div>;\n            formClass += ' has-error';\n        }\n\n        let passwordError = null;\n        let passwordClass = 'form-group';\n        if (this.state.passwordError) {\n            passwordError = <div className='form-group has-error'><label className='control-label'>{this.state.passwordError}</label></div>;\n            passwordClass += ' has-error';\n        }\n\n        let ldapPasswordError = null;\n        let ldapPasswordClass = 'form-group';\n        if (this.state.ldapPasswordError) {\n            ldapPasswordError = <div className='form-group has-error'><label className='control-label'>{this.state.ldapPasswordError}</label></div>;\n            ldapPasswordClass += ' has-error';\n        }\n\n        let confirmError = null;\n        let confimClass = 'form-group';\n        if (this.state.confirmError) {\n            confirmError = <div className='form-group has-error'><label className='control-label'>{this.state.confirmError}</label></div>;\n            confimClass += ' has-error';\n        }\n\n        let passwordPlaceholder;\n        if (global.window.mm_config.LdapPasswordFieldName) {\n            passwordPlaceholder = global.window.mm_config.LdapPasswordFieldName;\n        } else {\n            passwordPlaceholder = Utils.localizeMessage('claim.ldap_to_email.ldapPwd', 'AD/LDAP Password');\n        }\n\n        let content;\n        if (this.state.showMfa) {\n            content = (\n                <LoginMfa\n                    loginId={this.props.email}\n                    password={this.state.password}\n                    submit={this.submit}\n                />\n            );\n        } else {\n            content = (\n                <form\n                    onSubmit={this.preSubmit}\n                    className={formClass}\n                >\n                    <p>\n                        <FormattedMessage\n                            id='claim.ldap_to_email.ssoType'\n                            defaultMessage='Upon claiming your account, you will only be able to login with your email and password'\n                        />\n                    </p>\n                    <p>\n                        <FormattedMessage\n                            id='claim.ldap_to_email.email'\n                            defaultMessage='You will use the email {email} to login'\n                            values={{\n                                email: this.props.email\n                            }}\n                        />\n                    </p>\n                    <p>\n                        <FormattedMessage\n                            id='claim.ldap_to_email.enterLdapPwd'\n                            defaultMessage='Enter your {ldapPassword} for your {site} email account'\n                            values={{\n                                ldapPassword: passwordPlaceholder,\n                                site: global.window.mm_config.SiteName\n                            }}\n                        />\n                    </p>\n                    <div className={ldapPasswordClass}>\n                        <input\n                            type='password'\n                            className='form-control'\n                            name='ldapPassword'\n                            ref='ldappassword'\n                            placeholder={passwordPlaceholder}\n                            spellCheck='false'\n                        />\n                    </div>\n                    {ldapPasswordError}\n                    <p>\n                        <FormattedMessage\n                            id='claim.ldap_to_email.enterPwd'\n                            defaultMessage='Enter a new password for your email account'\n                        />\n                    </p>\n                    <div className={passwordClass}>\n                        <input\n                            type='password'\n                            className='form-control'\n                            name='password'\n                            ref='password'\n                            placeholder={Utils.localizeMessage('claim.ldap_to_email.pwd', 'Password')}\n                            spellCheck='false'\n                        />\n                    </div>\n                    {passwordError}\n                    <div className={confimClass}>\n                        <input\n                            type='password'\n                            className='form-control'\n                            name='passwordconfirm'\n                            ref='passwordconfirm'\n                            placeholder={Utils.localizeMessage('claim.ldap_to_email.confirm', 'Confirm Password')}\n                            spellCheck='false'\n                        />\n                    </div>\n                    {confirmError}\n                    <button\n                        type='submit'\n                        className='btn btn-primary'\n                    >\n                        <FormattedMessage\n                            id='claim.ldap_to_email.switchTo'\n                            defaultMessage='Switch account to email/password'\n                        />\n                    </button>\n                    {serverError}\n                </form>\n            );\n        }\n\n        return (\n            <div>\n                <h3>\n                    <FormattedMessage\n                        id='claim.ldap_to_email.title'\n                        defaultMessage='Switch AD/LDAP Account to Email/Password'\n                    />\n                </h3>\n                {content}\n            </div>\n        );\n    }\n}\n\nLDAPToEmail.defaultProps = {\n};\nLDAPToEmail.propTypes = {\n    email: PropTypes.string\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/claim/components/ldap_to_email.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport PropTypes from 'prop-types';\n\nimport React from 'react';\n\nexport default class LoginMfa extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n        this.state = {\n            serverError: ''\n        };\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const state = {};\n\n        const token = this.refs.token.value.trim().replace(/\\s/g, '');\n        if (!token) {\n            state.serverError = Utils.localizeMessage('login_mfa.tokenReq', 'Please enter an MFA token');\n            this.setState(state);\n            return;\n        }\n\n        state.serverError = '';\n        this.setState(state);\n\n        this.props.submit(this.props.loginId, this.props.password, token);\n    }\n\n    render() {\n        let serverError;\n        let errorClass = '';\n        if (this.state.serverError) {\n            serverError = <label className='control-label'>{this.state.serverError}</label>;\n            errorClass = ' has-error';\n        }\n\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <div className='signup__email-container'>\n                    <p>\n                        <FormattedMessage\n                            id='login_mfa.enterToken'\n                            defaultMessage=\"To complete the sign in process, please enter a token from your smartphone's authenticator\"\n                        />\n                    </p>\n                    <div className={'form-group' + errorClass}>\n                        {serverError}\n                    </div>\n                    <div className={'form-group' + errorClass}>\n                        <input\n                            type='text'\n                            className='form-control'\n                            name='token'\n                            ref='token'\n                            placeholder={Utils.localizeMessage('login_mfa.token', 'MFA Token')}\n                            spellCheck='false'\n                            autoComplete='off'\n                            autoFocus={true}\n                        />\n                    </div>\n                    <div className='form-group'>\n                        <button\n                            type='submit'\n                            className='btn btn-primary'\n                        >\n                            <FormattedMessage\n                                id='login_mfa.submit'\n                                defaultMessage='Submit'\n                            />\n                        </button>\n                    </div>\n                </div>\n            </form>\n        );\n    }\n}\nLoginMfa.defaultProps = {\n};\n\nLoginMfa.propTypes = {\n    loginId: PropTypes.string.isRequired,\n    password: PropTypes.string.isRequired,\n    submit: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/login/components/login_mfa.jsx"],"sourceRoot":""}