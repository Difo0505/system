webpackJsonp([46],{1371:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(51),l=a(o),u=n(32),r=a(u),i=n(50),c=a(i),f=n(33),s=a(f),d=n(49),p=a(d),m=n(1522),h=a(m),v=n(197),g=n(151),y=a(g),_=n(14),b=a(_),E=n(496),w=a(E),C=n(1644),M=function(e){function t(e){(0,r.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.handleAllow=n.handleAllow.bind(n),n.handleDeny=n.handleDeny.bind(n),n.state={},n}return(0,p.default)(t,e),(0,s.default)(t,null,[{key:"propTypes",get:function(){return{location:y.default.object.isRequired,params:y.default.object.isRequired}}}]),(0,s.default)(t,[{key:"componentWillMount",value:function(){var e=this;(0,C.getOAuthAppInfo)(this.props.location.query.client_id,function(t){e.setState({app:t})})}},{key:"componentDidMount",value:function(){var e=document.getElementById("antiClickjack");e&&e.parentNode.removeChild(e)}},{key:"handleAllow",value:function(){var e=this,t=this.props.location.query;(0,C.allowOAuth2)(t,function(e){e.redirect&&(window.location.href=e.redirect)},function(t){e.setState({error:t.message})})}},{key:"handleDeny",value:function(){window.location.replace(this.props.location.query.redirect_uri+"?error=access_denied")}},{key:"render",value:function(){var e=this.state.app;if(!e)return null;var t=void 0;t=e.icon_url?e.icon_url:w.default;var n=void 0;return this.state.error&&(n=b.default.createElement("div",{className:"prompt__error form-group"},b.default.createElement(h.default,{error:this.state.error}))),b.default.createElement("div",{className:"container-fluid"},b.default.createElement("div",{className:"prompt"},b.default.createElement("div",{className:"prompt__heading"},b.default.createElement("div",{className:"prompt__app-icon"},b.default.createElement("img",{src:t,width:"50",height:"50",alt:""})),b.default.createElement("div",{className:"text"},b.default.createElement(v.FormattedHTMLMessage,{id:"authorize.title",defaultMessage:"<strong>{appName}</strong> would like to connect to your <strong>Mattermost</strong> user account",values:{appName:e.name}}))),b.default.createElement("p",null,b.default.createElement(v.FormattedHTMLMessage,{id:"authorize.app",defaultMessage:"The app <strong>{appName}</strong> would like the ability to access and modify your basic information.",values:{appName:e.name}})),b.default.createElement("h2",{className:"prompt__allow"},b.default.createElement(v.FormattedHTMLMessage,{id:"authorize.access",defaultMessage:"Allow <strong>{appName}</strong> access?",values:{appName:e.name}})),b.default.createElement("div",{className:"prompt__buttons"},b.default.createElement("button",{type:"submit",className:"btn btn-link authorize-btn",onClick:this.handleDeny},b.default.createElement(v.FormattedMessage,{id:"authorize.deny",defaultMessage:"Deny"})),b.default.createElement("button",{type:"submit",className:"btn btn-primary authorize-btn",onClick:this.handleAllow},b.default.createElement(v.FormattedMessage,{id:"authorize.allow",defaultMessage:"Allow"}))),n))}}]),t}(b.default.Component);t.default=M},1522:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(77),l=a(o),u=n(51),r=a(u),i=n(32),c=a(i),f=n(33),s=a(f),d=n(50),p=a(d),m=n(49),h=a(m),v=n(151),g=a(v),y=n(14),_=a(y),b=function(e){function t(){return(0,c.default)(this,t),(0,p.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){if(!this.props.error&&0===this.props.errors.length)return null;var e=this.props.error;if(!e){var t=!0,n=!1,a=void 0;try{for(var o,u=(0,l.default)(this.props.errors);!(t=(o=u.next()).done);t=!0){var r=o.value;r&&(e=r)}}catch(e){n=!0,a=e}finally{try{!t&&u.return&&u.return()}finally{if(n)throw a}}}return e?"backstage"===this.props.type?_.default.createElement("div",{className:"pull-left has-error"},_.default.createElement("label",{className:"control-label"},e)):this.props.margin?_.default.createElement("div",{className:"form-group has-error"},_.default.createElement("label",{className:"control-label"},e)):_.default.createElement("div",{className:"col-sm-12 has-error"},_.default.createElement("label",{className:"control-label"},e)):null}}],[{key:"propTypes",get:function(){return{type:g.default.node,error:g.default.node,margin:g.default.bool,errors:g.default.arrayOf(g.default.node)}}},{key:"defaultProps",get:function(){return{error:null,errors:[]}}}]),t}(_.default.Component);t.default=b},1644:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){O.default.saveConfig(e,function(){t&&t()},function(e){n&&n(e)})}function l(e,t){O.default.reloadConfig(function(){F.getConfig(),e&&e()},function(e){t&&t(e)})}function u(e,t,n){O.default.adminResetMfa(e,function(){(0,R.getUser)(e)(j,z),t&&t()},function(e){n&&n(e)})}function r(e,t){O.default.getClusterStatus(function(t){e&&e(t)},function(e){F.dispatchError(e,"getClusterStatus"),t&&t(e)})}function i(e,t,n){O.default.saveComplianceReports(e,function(){t&&t()},function(e){n&&n(e)})}function c(e,t,n){O.default.testEmail(e,function(){t&&t()},function(e){n&&n(e)})}function f(e,t){O.default.ldapTest(function(){e&&e()},function(e){t&&t(e)})}function s(e,t){O.default.invalidateAllCaches(function(){e&&e()},function(e){t&&t(e)})}function d(e,t){O.default.recycleDatabaseConnection(function(){e&&e()},function(e){t&&t(e)})}function p(e,t,n,a){O.default.adminResetPassword(e,t,function(){n&&n()},function(e){a&&a(e)})}function m(e,t){O.default.samlCertificateStatus(function(t){e&&e(t)},function(e){t&&t(e)})}function h(e,t){O.default.ldapSyncNow(function(){e&&e()},function(e){t&&t(e)})}function v(e,t,n){O.default.getOAuthAppInfo(e,function(e){t&&t(e)},function(e){n&&n(e)})}function g(e,t,n){var a=e.response_type,o=e.client_id,l=e.redirect_uri,u=e.state,r=e.scope;O.default.allowOAuth2(a,o,l,u,r,function(e){t&&t(e)},function(e){n&&n(e)})}function y(e,t,n,a,o,l,u){O.default.emailToLdap(e,t,n,a,o,function(e){l&&l(e)},function(e){u&&u(e)})}function _(e,t,n,a,o,l){O.default.emailToOAuth(e,t,n,a,function(e){o&&o(e)},function(e){l&&l(e)})}function b(e,t,n,a){O.default.oauthToEmail(e,t,function(e){e.follow_link&&S.browserHistory.push(e.follow_link),n&&n(e)},function(e){a&&a(e)})}function E(e,t,n){O.default.regenerateOAuthAppSecret(e,function(e){t&&t(e)},function(e){n&&n(e)})}function w(e,t,n){O.default.uploadBrandImage(e,function(){t&&t()},function(e){n&&n(e)})}function C(e,t,n){O.default.uploadLicenseFile(e,function(){t&&t()},function(e){n&&n(e)})}function M(e,t){O.default.removeLicenseFile(function(){e&&e()},function(e){t&&t(e)})}function N(e,t,n){O.default.uploadCertificateFile(e,function(){t&&t()},function(e){n&&n(e)})}function A(e,t,n){O.default.removeCertificateFile(e,function(){t&&t()},function(e){n&&n(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.saveConfig=o,t.reloadConfig=l,t.adminResetMfa=u,t.getClusterStatus=r,t.saveComplianceReports=i,t.testEmail=c,t.ldapTest=f,t.invalidateAllCaches=s,t.recycleDatabaseConnection=d,t.adminResetPassword=p,t.samlCertificateStatus=m,t.ldapSyncNow=h,t.getOAuthAppInfo=v,t.allowOAuth2=g,t.emailToLdap=y,t.emailToOAuth=_,t.oauthToEmail=b,t.regenerateOAuthAppSecret=E,t.uploadBrandImage=w,t.uploadLicenseFile=C,t.removeLicenseFile=M,t.uploadCertificateFile=N,t.removeCertificateFile=A;var k=n(52),O=a(k),T=n(113),F=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(T),S=n(58),L=n(36),D=a(L),R=n(115),j=D.default.dispatch,z=D.default.getState}});
//# sourceMappingURL=46.c1b9f4ac6d4ead40e19a.js.map