webpackJsonp([52],{1377:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(51),i=n(o),l=a(32),u=n(l),r=a(33),f=n(r),s=a(50),c=n(s),d=a(49),m=n(d),p=a(28),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(p),w=a(10),v=n(w),_=a(151),g=n(_),y=a(14),C=n(y),E=a(483),M=n(E),S=a(197),b=a(1644),A=function(t){function a(e){(0,u.default)(this,a);var t=(0,c.default)(this,(a.__proto__||(0,i.default)(a)).call(this,e));return t.submit=t.submit.bind(t),t.state={},t}return(0,m.default)(a,t),(0,f.default)(a,[{key:"submit",value:function(e){var t=this;e.preventDefault();var a={},n=M.default.findDOMNode(this.refs.password).value;if(!n)return a.error=h.localizeMessage("claim.oauth_to_email.enterPwd","Please enter a password."),void this.setState(a);var o=h.isValidPassword(n);if(""!==o)return void this.setState({error:o});var i=M.default.findDOMNode(this.refs.passwordconfirm).value;if(!i||n!==i)return a.error=h.localizeMessage("claim.oauth_to_email.pwdNotMatch","Password do not match."),void this.setState(a);a.error=null,this.setState(a),(0,b.oauthToEmail)(this.props.email,n,null,function(e){t.setState({error:e.message})})}},{key:"render",value:function(){var t=null;this.state.error&&(t=C.default.createElement("div",{className:"form-group has-error"},C.default.createElement("label",{className:"control-label"},this.state.error)));var a="form-group";t&&(a+=" has-error");var n=(this.props.currentType===v.default.SAML_SERVICE?v.default.SAML_SERVICE.toUpperCase():h.toTitleCase(this.props.currentType))+" SSO";return C.default.createElement("div",null,C.default.createElement("h3",null,C.default.createElement(S.FormattedMessage,{id:"claim.oauth_to_email.title",defaultMessage:"Switch {type} Account to Email",values:{type:n}})),C.default.createElement("form",{onSubmit:this.submit},C.default.createElement("p",null,C.default.createElement(S.FormattedMessage,{id:"claim.oauth_to_email.description",defaultMessage:"Upon changing your account type, you will only be able to login with your email and password."})),C.default.createElement("p",null,C.default.createElement(S.FormattedMessage,{id:"claim.oauth_to_email.enterNewPwd",defaultMessage:"Enter a new password for your {site} email account",values:{site:e.window.mm_config.SiteName}})),C.default.createElement("div",{className:a},C.default.createElement("input",{type:"password",className:"form-control",name:"password",ref:"password",placeholder:h.localizeMessage("claim.oauth_to_email.newPwd","New Password"),spellCheck:"false"})),C.default.createElement("div",{className:a},C.default.createElement("input",{type:"password",className:"form-control",name:"passwordconfirm",ref:"passwordconfirm",placeholder:h.localizeMessage("claim.oauth_to_email.confirm","Confirm Password"),spellCheck:"false"})),t,C.default.createElement("button",{type:"submit",className:"btn btn-primary"},C.default.createElement(S.FormattedMessage,{id:"claim.oauth_to_email.switchTo",defaultMessage:"Switch {type} to email and password",values:{type:n}}))))}}]),a}(C.default.Component);t.default=A,A.defaultProps={},A.propTypes={currentType:g.default.string,email:g.default.string}}).call(t,a(16))},1644:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){N.default.saveConfig(e,function(){t&&t()},function(e){a&&a(e)})}function i(e,t){N.default.reloadConfig(function(){T.getConfig(),e&&e()},function(e){t&&t(e)})}function l(e,t,a){N.default.adminResetMfa(e,function(){(0,k.getUser)(e)(I,D),t&&t()},function(e){a&&a(e)})}function u(e,t){N.default.getClusterStatus(function(t){e&&e(t)},function(e){T.dispatchError(e,"getClusterStatus"),t&&t(e)})}function r(e,t,a){N.default.saveComplianceReports(e,function(){t&&t()},function(e){a&&a(e)})}function f(e,t,a){N.default.testEmail(e,function(){t&&t()},function(e){a&&a(e)})}function s(e,t){N.default.ldapTest(function(){e&&e()},function(e){t&&t(e)})}function c(e,t){N.default.invalidateAllCaches(function(){e&&e()},function(e){t&&t(e)})}function d(e,t){N.default.recycleDatabaseConnection(function(){e&&e()},function(e){t&&t(e)})}function m(e,t,a,n){N.default.adminResetPassword(e,t,function(){a&&a()},function(e){n&&n(e)})}function p(e,t){N.default.samlCertificateStatus(function(t){e&&e(t)},function(e){t&&t(e)})}function h(e,t){N.default.ldapSyncNow(function(){e&&e()},function(e){t&&t(e)})}function w(e,t,a){N.default.getOAuthAppInfo(e,function(e){t&&t(e)},function(e){a&&a(e)})}function v(e,t,a){var n=e.response_type,o=e.client_id,i=e.redirect_uri,l=e.state,u=e.scope;N.default.allowOAuth2(n,o,i,l,u,function(e){t&&t(e)},function(e){a&&a(e)})}function _(e,t,a,n,o,i,l){N.default.emailToLdap(e,t,a,n,o,function(e){i&&i(e)},function(e){l&&l(e)})}function g(e,t,a,n,o,i){N.default.emailToOAuth(e,t,a,n,function(e){o&&o(e)},function(e){i&&i(e)})}function y(e,t,a,n){N.default.oauthToEmail(e,t,function(e){e.follow_link&&F.browserHistory.push(e.follow_link),a&&a(e)},function(e){n&&n(e)})}function C(e,t,a){N.default.regenerateOAuthAppSecret(e,function(e){t&&t(e)},function(e){a&&a(e)})}function E(e,t,a){N.default.uploadBrandImage(e,function(){t&&t()},function(e){a&&a(e)})}function M(e,t,a){N.default.uploadLicenseFile(e,function(){t&&t()},function(e){a&&a(e)})}function S(e,t){N.default.removeLicenseFile(function(){e&&e()},function(e){t&&t(e)})}function b(e,t,a){N.default.uploadCertificateFile(e,function(){t&&t()},function(e){a&&a(e)})}function A(e,t,a){N.default.removeCertificateFile(e,function(){t&&t()},function(e){a&&a(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.saveConfig=o,t.reloadConfig=i,t.adminResetMfa=l,t.getClusterStatus=u,t.saveComplianceReports=r,t.testEmail=f,t.ldapTest=s,t.invalidateAllCaches=c,t.recycleDatabaseConnection=d,t.adminResetPassword=m,t.samlCertificateStatus=p,t.ldapSyncNow=h,t.getOAuthAppInfo=w,t.allowOAuth2=v,t.emailToLdap=_,t.emailToOAuth=g,t.oauthToEmail=y,t.regenerateOAuthAppSecret=C,t.uploadBrandImage=E,t.uploadLicenseFile=M,t.removeLicenseFile=S,t.uploadCertificateFile=b,t.removeCertificateFile=A;var O=a(52),N=n(O),P=a(113),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(P),F=a(58),L=a(36),R=n(L),k=a(115),I=R.default.dispatch,D=R.default.getState}});
//# sourceMappingURL=52.05f347dac670cd1c9aba.js.map